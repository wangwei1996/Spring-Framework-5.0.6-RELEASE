# 杂记
## 组件扫描
+ 自动发现应用容器中需要创建的Bean
## 自动装配
+ 自动满足Bean之间的依赖

## 常用的容器
1. FileSystemXmlApplicationContext:从文件系统加载配置
2. ClassPathXmlApplicationContext: 从classpath加载配置
3. XmlWebApplicationContext: 用于web应用程序的容器
4. AnnotationConfigServletWebServerApplicationContext: 在Spring Boot的boot模块下(基于注解)
5. AnnotationConfigReactiveWebServerApplicationContext: 在Spring Boot的boot模块下(基于注解)
6. AnnotationConfigApplicationContext:适用于普通的非Web应用(基于注解)
7. 以上容器的共性：
    1. 都会调用refresh方法，该方法大致功能如下:
         - 容器初始化、配置解析
         - BeanFactoryPostProcessor和BeanPostProcessor的注册和激活
         - 国际化配置
         - 其他



 ## 重要的类
 + spring-context\src\main\java\org\springframework\context\support\AbstractApplicationContext.java 该抽象类是Spring中最高级的部分，定义了Spring中简单不易动的部分，使用了模版方法模式.        



 ## 疑惑
 + this.logger.isWarnEnabled： 为什么先调用这个方法再打印日志，为什么不直接打印日志

## AOP学习时杂记
1. 判断创建代理类对象时，是采用CGLIB代理还是JDK动态代理，这个标志位是存在 BeanDefinition的属性上的，见:org.springframework.aop.framework.autoproxy.AutoProxyUtils.shouldProxyTargetClass
2. Advisor列表中的第一个Advisor一定是org.springframework.aop.interceptor.ExposeInvocationInterceptor，为什么请看方法:org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.extendAdvisors
3. Advisor最终使用时会转为org.springframework.aop.framework.DefaultAdvisorChainFactory.getInterceptorsAndDynamicInterceptionAdvice类型，代码请看:org.springframework.aop.framework.DefaultAdvisorChainFactory.getInterceptorsAndDynamicInterceptionAdvice
4. Advice 的精准匹配: org.springframework.aop.framework.DefaultAdvisorChainFactory#getInterceptorsAndDynamicInterceptionAdvice